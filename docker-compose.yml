# VDJServer Docker Orchestration


vdjnginx:
    build: vdjserver-web-nginx
    env_file: .env
    links:
        - vdjapi
    ports:
        - "80:80"
        - "443:443"
    volumes_from:
        - vdjbackbone
    volumes:
        - /etc/pki/:/etc/pki/:ro
    #volumes:
    #    - logs/apache:/var/log/apache2
    #    - logs/cakephp/error.log:/var/www/html/xsede-api-core/app/tmp/logs/error.log

vdjapi:
    build: vdjserver-web-api
    env_file: .env
    expose:
        - "8443"
    volumes:
        - /etc/pki/:/etc/pki/:ro

vdjbackbone:
    build: vdjserver-web-backbone
